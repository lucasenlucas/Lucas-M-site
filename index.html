<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lucas Terminal</title>

  <style>
    :root { --green: #66ff66; }

    * { box-sizing: border-box; }

    body {
      background-color: #000;
      background: radial-gradient(#177317, #000);
      box-shadow: inset 0 0 30rem #000000;
      color: var(--green);
      font-family: "VT323", monospace;
      font-size: 1.4rem;
      padding: 1rem;
      margin: 0;
      overflow: hidden;
      height: 100vh;
    }

    #terminal-history {
      list-style: none;
      padding-left: 0;
      margin: 0;
      max-height: calc(100vh - 6.25rem);
      overflow-y: auto;
    }

    #terminal-input {
      display: flex;
      align-items: center;
      gap: 0.25rem;
      margin-top: 1rem;
    }

    #terminal-text {
      flex: 1;
      white-space: pre-wrap;
      min-height: 1.5rem;
    }

    #caret {
      background-color: var(--green);
      width: 8px;
      height: 1.5rem;
      animation: blink 1s steps(5, start) infinite;
    }

    @keyframes blink { to { visibility: hidden; } }

    #alert {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      font-size: 3rem;
      display: none;
      animation: blink 1s steps(5, start) infinite;
    }
    #alert.active { display: block; }

    #mobile-capture {
      position: fixed;
      left: -9999px;
      opacity: 0;
    }

    .ascii {
      white-space: pre;
      font-size: clamp(8px, 1.6vw, 14px);
      line-height: 1.1;
    }
  </style>
</head>

<body>
  <ul id="terminal-history"></ul>

  <div id="terminal-input">
    <span>&gt; </span>
    <span id="terminal-text"></span>
    <span id="caret"></span>
  </div>

  <div id="alert">ABORT...</div>
  <input id="mobile-capture" />

  <script>
    const historyEl = document.getElementById("terminal-history");
    const terminalText = document.getElementById("terminal-text");
    const alertBox = document.getElementById("alert");
    const mobileCapture = document.getElementById("mobile-capture");

    const linkedinUrl = "https://nl.linkedin.com/in/lucas-mangroelal-4b458b348";

    const routes = {
      "1": "https://lucasmangroelal.nl/portfolio",
      "sgdc": "https://lucasmangroelal.nl/sgdc"
    };

    let pendingAction = null;
    let currentText = "";

    function addLine(text) {
      const li = document.createElement("li");
      li.textContent = text;
      historyEl.appendChild(li);
      historyEl.scrollTop = historyEl.scrollHeight;
    }

    function addAscii(text) {
      const li = document.createElement("li");
      const pre = document.createElement("pre");
      pre.className = "ascii";
      pre.textContent = text;
      li.appendChild(pre);
      historyEl.appendChild(li);
    }

    function bar(pct, width = 10) {
      return "█".repeat(Math.round(pct / 100 * width)) +
             "░".repeat(width - Math.round(pct / 100 * width));
    }

    function cmd_status() {
      addLine(`CPU: ${bar(72)} 72%`);
      addLine(`RAM: ${bar(41)} 41%`);
    }

    function askLinkedInConfirm() {
      addLine("Dit opent mijn LinkedIn-profiel.");
      addLine("Voeg me gelijk toe als connectie als je toch een kijkje neemt.");
      addLine('Typ "y" om door te gaan:');
      pendingAction = "linkedin";
    }

    function runCommand(inputRaw) {
      const input = inputRaw.trim().toLowerCase();
      if (!input) return;

      addLine(`> ${inputRaw}`);

      if (pendingAction === "linkedin") {
        if (input === "y") {
          window.location.href = linkedinUrl;
        } else {
          addLine("Geannuleerd.");
        }
        pendingAction = null;
        return;
      }

      if (input === "status") return cmd_status();
      if (input === "1") return window.location.href = routes["1"];
      if (input === "2" || input === "linkedin") return askLinkedInConfirm();
      if (input === "sgdc") return window.location.href = routes["sgdc"];
      if (input === "glitch") return alertBox.classList.add("active");

      addLine(`Command not found: ${inputRaw}`);
      addLine(`Tip: status, 1, 2, sgdc`);
    }

    function render() {
      terminalText.textContent = currentText;
    }

    function submit() {
      runCommand(currentText);
      currentText = "";
      render();
    }

    window.addEventListener("keydown", e => {
      if (e.key === "Enter") submit();
      else if (e.key === "Backspace") currentText = currentText.slice(0, -1);
      else if (e.key.length === 1) currentText += e.key;
      render();
    });

    function boot() {
      const bootLines = [
        "Booting system...",
        "Loading config...",
        "Ready.",
        "",
        "Voer het nummer in van je keuze:",
        "[1] Bekijk mijn portfolio",
        "[2] Bekijk mijn LinkedIn",
        "",
        "> status"
      ];

      bootLines.forEach((l, i) =>
        setTimeout(() => addLine(l), i * 300)
      );

      setTimeout(cmd_status, bootLines.length * 300 + 200);

      setTimeout(() => addAscii(
`██╗     ██╗   ██╗ ██████╗ █████╗ ███████╗     ██████╗ ███████╗
██║     ██║   ██║██╔════╝██╔══██╗██╔════╝    ██╔═══██╗██╔════╝
██║     ██║   ██║██║     ███████║███████╗    ██║   ██║███████╗
██║     ██║   ██║██║     ██╔══██║╚════██║    ██║   ██║╚════██║
███████╗╚██████╔╝╚██████╗██║  ██║███████║    ╚██████╔╝███████║
╚══════╝ ╚═════╝  ╚═════╝╚═╝  ╚═╝╚══════╝     ╚═════╝ ╚══════╝`), bootLines.length * 300 + 800);
    }

    boot();
    render();
  </script>
</body>
</html>
